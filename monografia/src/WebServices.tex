\chapter{Web Services}
Nos últimos anos, muito se tem falado sobre as vantagens de se utilizar a chamada cloud computing (computação em nuvem) como arquitetura de TI.

Essa arquitetura permite que as aplicações fiquem armazenadas em centros de armazenamento de terceiros\cite{Silva-Fabio-Rodrigues:2010:CloudComputing}, e sejam acessadas das máquinas clientes, reduzindo assim os custos com compra e manutenção de servidores, dispositivos para armazenamento, backups, etc. Apenas o acesso ao serviço é pago.

De forma resumida, ao invés de instalar um editor de textos na máquina, ele funciona como um serviço armazenado no provedor e existe uma interface para acessá-lo. Todos os recursos de hardware necessários para rodá-lo, o espaço para armazenamento de documentos, etc. ficam no provedor e é tudo feito via navegador de internet.

No lado pessoal, sites como Twitter e Facebook vem ganhando muita popularidade, principalmente pelo fato de eles serem acessados através de aplicativos rodando nos mais variados dispositivos, como desktops, workstations, celulares, consoles de vídeo-game, etc.

Nessas duas situações, assim como em diversas outras onde é necessária comunicação entre sistemas separados, faz-se o uso de um conceito chamado web service (serviço web).

Um web service é um software que implementa diversas tecnologias para transferência e representação de dados que, quando combinadas, que permitem a comunicação entre os diversos dispositivos conectados em uma rede.

\section{Funcionamento}
Pode-se fazer uma analogia entre um web service e uma sala de aula. Durante uma aula, os alunos tiram que ficam com dúvidas fazem perguntas ao professor, que as responde. Se transformarmos os atores dessa situação em sistemas computacionais, com o professor se tornando um servidor e os alunos se tornando os clientes, teremos o funcionamento básico de um web service.

\begin{figure}[H]
 \centering
 \includegraphics[width=7cm]{img/Requisicao}%
 \caption{Cliente fazendo requisição a um web service}%
 \label{fig:Requisicao}%
\end{figure}

A figura \ref{fig:Requisicao} mostra como funciona um web service. O cliente inicia a comunicação fazendo uma requisição ao servidor, que dá a resposta.

Antes de começar a implementação de um web service, é preciso definir as tecnologias que serão utilizadas para representar os dados e para transferi-los.

\subsection{Representação dos dados}
A tecnologia para representação dos dados é o idioma que nosso web service fala. De nada adianta nosso professor falar latim se nossos alunos entendem apenas português. Da mesma forma, de nada adianta o servidor enviar os dados utilizando uma representação que os clientes não são capazes de interpretar.

Não existe nenhuma norma que obrigue a utilizar determinada representação para desenvolvimento de um web service, mas o XML é a representação mais utilizada\cite{Costa-Guilherme:2009:SOA}.

\subsection{Transferência das informações}
Além de falarem o mesmo idioma, a forma como a informação é transmitida também deve ser compatível entre o cliente e o servidor. A figura \ref{fig:ProblemaComunicacao} mostra uma sala onde existe um aluno cego, porém o professor tenta tirar uma dúvida utilizando a lousa.

\begin{figure}[H]
 \centering
 \includegraphics[width=7cm]{img/ProblemaComunicacao}%
 \caption{Servidor utilizando uma forma de comunicação incompatível}%
 \label{fig:ProblemaComunicacao}%
\end{figure}

Da mesma forma, de nada adianta o servidor responder às requisições de uma forma que o cliente não possa interpretar, nem o cliente fazer as requisições de uma forma que o servidor não entenda.

\section{Vantagens e Desvantagens}
Utilizando web services, é possível dividir o processamento que uma aplicação precisa realizar entre os clientes e o servidor, tornando os aplicativos mais leves entre ambas as partes.

Por serem baseados em padrões abertos, a grande maioria das linguagens de programação possui suas API's para criação de web services, e estas são compatíveis entre si, portanto o cliente e o servidor podem ser escritos em linguagens diferentes.

Um problema dessas tecnologias é que o XML pode ser considerado um formato pesado para troca de informações, já que existe um conjunto de regras que devem ser seguidas, principalmente para garantir a compatibilidade.

Outra preocupação que se deve ter é com como os dados trafegarão. Como o uso de web services envolve rede, ou mesmo a internet, é preciso que as requisições sejam criptografadas para evitar que os dados sejam obtidos por outros.